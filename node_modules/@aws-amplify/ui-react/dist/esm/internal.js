var F=Object.defineProperty,ct=Object.defineProperties;var pt=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var At=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var Y=(t,e,r)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T=(t,e)=>{for(var r in e||(e={}))At.call(e,r)&&Y(t,r,e[r]);if(w)for(var r of w(e))dt.call(e,r)&&Y(t,r,e[r]);return t},D=(t,e)=>ct(t,pt(e));var n=(t,e)=>F(t,"name",{value:e,configurable:!0});import*as l from"react";import*as x from"react";import ut from"@aws-amplify/auth";import{Hub as k}from"@aws-amplify/core";var Qt=n(()=>{let[t,e]=x.useState({error:void 0,isLoading:!0,user:void 0}),r=n(({payload:a})=>{switch(a.event){case"signIn":return e({user:a.data,isLoading:!1});case"signOut":return e({isLoading:!1});default:break}},"handleAuth"),o=n(()=>(e({isLoading:!0}),ut.currentAuthenticatedUser().then(a=>e({user:a,isLoading:!1})).catch(a=>e({error:a,isLoading:!1})),k.listen("auth",r),()=>k.remove("auth",r)),"fetch");return x.useEffect(o,[]),D(T({},t),{fetch:o})},"useAuth");import*as E from"react";import{DataStore as G}from"@aws-amplify/datastore";var Tt=n(({model:t,criteria:e,pagination:r})=>{let[o,a]=E.useState({items:[],isLoading:!1,error:void 0});return E.useEffect(n(()=>{a({isLoading:!0,items:[]});let i=G.observeQuery(t,e,r).subscribe(A=>a({items:A.items,isLoading:!1}),A=>a({items:[],error:A,isLoading:!1}));if(i)return()=>i.unsubscribe()},"fetch"),[]),o},"useDataStoreCollection"),lt=n(({model:t,id:e})=>{let[r,o]=E.useState(),[a,s]=E.useState(!1),[i,A]=E.useState();return E.useEffect(n(()=>{s(!0),G.query(t,e).then(o).catch(A).finally(()=>s(!1))},"fetch"),[]),{error:i,item:r,isLoading:a}},"useDataStoreItem");function Xt(t){return t.type==="record"?lt(t):Tt(t)}n(Xt,"useDataStoreBinding");import*as R from"react";import{Storage as j}from"@aws-amplify/storage";var re=n((t,e)=>{let[r,o]=R.useState({isLoading:!0}),a=JSON.stringify(e),s=n(()=>{o({isLoading:!0});let i=j.get(t,e);return i.then(A=>o({url:A,isLoading:!1})).catch(A=>o({error:A,isLoading:!1})),()=>j.cancel(i)},"fetch");return R.useEffect(s,[t,e,a]),D(T({},r),{fetch:s})},"useStorageURL");import{Auth as Rt,Hub as v}from"aws-amplify";var c="ui",h="actions",Et="auth",St="datastore",mt="core",Ot="signout",_t="navigate",ft="create",It="delete",gt="update",Mt="statemutation",m="started",O="finished",Nt=`${h}:${Et}`,_=`${Nt}:${Ot}`,B=`${_}:${m}`,P=`${_}:${O}`,W=`${h}:${mt}`,M=`${W}:${Mt}`,q=`${M}:${m}`,Q=`${M}:${O}`,N=`${W}:${_t}`,J=`${N}:${m}`,z=`${N}:${O}`,U=`${h}:${St}`,f=`${U}:${ft}`,K=`${f}:${m}`,y=`${f}:${O}`,I=`${U}:${It}`,X=`${I}:${m}`,L=`${I}:${O}`,g=`${U}:${gt}`,Z=`${g}:${m}`,H=`${g}:${O}`,tt="Error querying datastore item by id";var Dt=n(t=>typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string","isErrorWithMessage"),xt=n(t=>{if(Dt(t))return t;try{return new Error(JSON.stringify(t))}catch{return new Error(String(t))}},"toErrorWithMessage"),S=n(t=>xt(t).message,"getErrorMessage");var p=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";var Ct=n(t=>async()=>{try{v.dispatch(c,{event:B,data:{options:t}},_,p),await Rt.signOut(t),v.dispatch(c,{event:P,data:{options:t}},_,p)}catch(e){v.dispatch(c,{event:P,data:{options:t,errorMessage:S(e)}},_,p)}},"useAuthSignOutAction");import*as et from"react";import{Hub as rt}from"aws-amplify";var ht="noopener noreferrer",Pt="_self",Ut=n(t=>{let{type:e,url:r,anchor:o,target:a}=t,s=et.useMemo(()=>{switch(e){case"url":return()=>{window.open(r,a||Pt,ht)};case"anchor":return()=>{window.location.hash=o};case"reload":return()=>{window.location.reload()};default:return()=>{console.warn('Please provide a valid navigate type. Available types are "url", "anchor" and "reload".')}}},[o,a,e,r]);return n(()=>{rt.dispatch(c,{event:J,data:t},N,p),s(),rt.dispatch(c,{event:z,data:t},N,p)},"navigateAction")},"useNavigateAction");import*as C from"react";import{Hub as ot}from"aws-amplify";var yt=n(t=>{let[e,r]=C.useState(t),o=C.useCallback(a=>{let s=e;ot.dispatch(c,{event:q,data:{prevState:s,newState:a}},M,p),r(a),ot.dispatch(c,{event:Q,data:{prevState:s,newState:a}},M,p)},[e]);return[e,o]},"useStateMutationAction");import{DataStore as Lt,Hub as b}from"aws-amplify";var Ht=n(({model:t,fields:e})=>async()=>{try{b.dispatch(c,{event:K,data:{fields:e}},f,p);let r=await Lt.save(new t(e));b.dispatch(c,{event:y,data:{fields:e,item:r}},f,p)}catch(r){b.dispatch(c,{event:y,data:{fields:e,errorMessage:S(r)}},f,p)}},"useDataStoreCreateAction");import{DataStore as vt,Hub as $}from"aws-amplify";var bt=n(({model:t,id:e})=>async()=>{try{$.dispatch(c,{event:X,data:{id:e}},I,p),await vt.delete(t,e),$.dispatch(c,{event:L,data:{id:e}},I,p)}catch(r){$.dispatch(c,{event:L,data:{id:e,errorMessage:S(r)}},I,p)}},"useDataStoreDeleteAction");import{DataStore as nt,Hub as V}from"aws-amplify";var $t=n(({model:t,id:e,fields:r})=>async()=>{try{V.dispatch(c,{event:Z,data:{fields:r,id:e}},g,p);let o=await nt.query(t,e);if(!o)throw new Error(`${tt}: ${e}`);let a=await nt.save(t.copyOf(o,s=>{Object.assign(s,r)}));V.dispatch(c,{event:H,data:{fields:r,id:e,item:a}},g,p)}catch(o){V.dispatch(c,{event:H,data:{fields:r,id:e,errorMessage:S(o)}},g,p)}},"useDataStoreUpdateAction");import{useId as be}from"@radix-ui/react-id";var st=n(t=>typeof t=="function","isFunction");var Vt=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(o=>o[0].startsWith(e));return Object.assign({},...Array.from(r,([o,a])=>({[o.replace(e,"")]:a})))},"findChildOverrides"),Ft=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(([o])=>o===e).flatMap(([,o])=>Object.entries(o)).filter(o=>o==null?void 0:o[0]);return Object.fromEntries(r)},"getOverrideProps");function wt(t,e){let r=[...new Set(t.flatMap(s=>Object.keys(s.variantValues)))],o=Object.keys(e).filter(s=>r.includes(s)&&e[s]).reduce((s,i)=>(s[i]=e[i],s),{});return t.filter(({variantValues:s})=>Object.keys(s).length===Object.keys(o).length&&Object.entries(s).every(([i,A])=>o[i]===A)).reduce((s,i)=>T(T({},s),i.overrides),{})}n(wt,"getOverridesFromVariants");var Yt=n((t,e)=>{if(!t&&!e)return null;if(!e)return t;if(!t)return e;let r=new Set(Object.keys(e)),o=Object.keys(t).filter(s=>r.has(s)),a=Object.fromEntries(o.map(s=>[s,T(T({},t[s]),e[s])]));return T(T(T({},t),e),a)},"mergeVariantsAndOverrides");var at=n(t=>t.reduce((e,r)=>o=>r(e(o)),e=>e),"mergePredicates"),it=n(t=>{let{and:e,or:r,field:o,operator:a,operand:s}=t;if(Array.isArray(e)){let i=e.map(A=>it(A));return A=>A.and(at(i))}else if(Array.isArray(r)){let i=r.map(A=>it(A));return A=>A.or(at(i))}return i=>st(i[o])?i[o].call(i,a,s):i},"createDataStorePredicate");export{it as createDataStorePredicate,Vt as findChildOverrides,Ft as getOverrideProps,wt as getOverridesFromVariants,Yt as mergeVariantsAndOverrides,Qt as useAuth,Ct as useAuthSignOutAction,Xt as useDataStoreBinding,Tt as useDataStoreCollection,Ht as useDataStoreCreateAction,bt as useDataStoreDeleteAction,lt as useDataStoreItem,$t as useDataStoreUpdateAction,Ut as useNavigateAction,yt as useStateMutationAction,re as useStorageURL};
//# sourceMappingURL=internal.js.map